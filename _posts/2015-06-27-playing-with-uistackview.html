---
layout: post
title: Playing With UIStackView
date: 2015-06-27 18:54:47.000000000 +02:00
type: post
published: true
status: publish
categories:
- General
- Tips
tags:
- experiment
- playground
- UIStackView
meta:
  title: Playing With UIStackView
  robotsmeta: index,follow
  description: Using a Playground to experiment with the new UIStackView
  _edit_last: '1'
  _jetpack_related_posts_cache: a:1:{s:32:"8f6677c9d6b0f903e98ad32ec61f8deb";a:2:{s:7:"expires";i:1437237241;s:7:"payload";a:3:{i:0;a:1:{s:2:"id";i:563;}i:1;a:1:{s:2:"id";i:100;}i:2;a:1:{s:2:"id";i:304;}}}}
  _wpcom_is_markdown: '1'
author:
  login: dom
  email: dominik.hauser@dasdom.de
  display_name: dom
  first_name: ''
  last_name: ''
---
<p>iOS 9 will bring  <span class="lang:swift decode:true  crayon-inline ">UIStackView</span> and with it will make creating adaptive layout easier than ever.</p>
<p>This is important because with the new multitasking on iPad you want to make sure that your app can handle all possible different screen sizes.</p>
<p>In the past many developer had difficulties to get their head around Auto Layout. Many third party libraries tried to make the creation of layout constraints in code easier. Several books have been written about Auto Layout.</p>
<p>Apple addressed this with the introduction of a new API to create layout constrains in code and <span class="lang:swift decode:true  crayon-inline ">UIStackView</span>. Using <span class="lang:swift decode:true  crayon-inline ">UIStackView</span> you just set a few properties and add views you want to be arranged by the stack view. Under the hood <span class="lang:swift decode:true  crayon-inline ">UIStackView</span> adds Auto Layout constraints to the arranged views according to the property values you have set.</p>
<p>It arranges its subview vertically or horizontally. You can nest <span class="lang:swift decode:true  crayon-inline ">UIStackView</span>s to achieve many different layouts. In addition you can add additional constraints to the views. Changes to the properties of the stack view and its subviews are animated by default.</p>
<p>Sounds great, doesn't it? I love Auto Layout and therefore was exited to try what <span class="lang:swift decode:true  crayon-inline ">UIStackView</span> brings to the table. As <a href="http://swiftandpainless.com/2015/06/why-i-still-dont-like-the-interface-builder/">I'm not a fan of Storyboards</a> I created a Playground to experiment with <span class="lang:swift decode:true  crayon-inline ">UIStackView</span>s in code.</p>
<h2>Examples</h2>
<p>Here are the different layouts I've created. More to come (suggestions welcome!):</p>
<h3>iOS Calculator</h3>
<p><a href="http://swift.eltanin.uberspace.de/wp-content/uploads/2015/06/Screen-Shot-2015-06-26-at-16.36.17.png"><img src="{{ site.baseurl }}/assets/Screen-Shot-2015-06-26-at-16.36.17.png" alt="Screen Shot 2015-06-26 at 16.36.17" width="411" height="584" class="aligncenter size-full wp-image-741" /></a></p>
<h3>A Profile View</h3>
<p><a href="http://swift.eltanin.uberspace.de/wp-content/uploads/2015/06/Screen-Shot-2015-06-26-at-11.16.32.png"><img src="{{ site.baseurl }}/assets/Screen-Shot-2015-06-26-at-11.16.32.png" alt="Screen Shot 2015-06-26 at 11.16.32" width="412" height="567" class="aligncenter size-full wp-image-742" /></a></p>
<h3>A Tweet/Post</h3>
<p><a href="http://swift.eltanin.uberspace.de/wp-content/uploads/2015/06/Screen-Shot-2015-06-26-at-11.34.54.png"><img src="{{ site.baseurl }}/assets/Screen-Shot-2015-06-26-at-11.34.54.png" alt="Screen Shot 2015-06-26 at 11.34.54" width="410" height="217" class="aligncenter size-full wp-image-744" /></a></p>
<h3>iOS Mail Inbox</h3>
<p><a href="http://swift.eltanin.uberspace.de/wp-content/uploads/2015/06/Screen-Shot-2015-06-27-at-17.58.13.png"><img src="{{ site.baseurl }}/assets/Screen-Shot-2015-06-27-at-17.58.13.png" alt="Screen Shot 2015-06-27 at 17.58.13" width="385" height="558" class="aligncenter size-full wp-image-745" /></a></p>
<h2>Some Tipps</h2>
<ol>
<li>Don't forget to disable <span class="lang:swift decode:true  crayon-inline ">translatesAutoresizingMaskIntoConstraints</span> when you position you stack view using Auto Layout.</li>
<li>Views arranged by a stack view have automatically <span class="lang:swift decode:true  crayon-inline ">translatesAutoresizingMaskIntoConstraints</span> disabled.</li>
<li>If your subviews are bigger than they should be, try to set the alignment to something else than <span class="lang:swift decode:true  crayon-inline ">.Fill</span> (which is the default).</li>
<li>Spacing can be negative (see the Profile example) but I did not manage to make a spacing that is smaller that the negative of the width of the smaller subview. (I need to experiment with the distribution parameter a bit for this case.)</li>
<li>If you add constraints to an arranged view, try to think what constraints the stack view implicitly added and don't fight those.</li>
<li>Sometimes you need to put a stack view into a view which itself is part of a stack view.</li>
<li>Stack views can have subviews that are not arranged (i.e. don't get implicit constrains).</li>
<li>If you want to use stack views or the new Auto Layout API in a Playground put the code in a <span class="lang:swift decode:true  crayon-inline ">if #available(iOS 9, *) { }</span> condition. Otherwise the Playground won't execute.</li>
</ol>
<p>If you want to experiment yourself, the Playground is on <a href="https://github.com/dasdom/UIStackViewPlayground">github</a>.</p>
