---
layout: post
title: Adjust for the Keyboard in iOS Using Swift
date: 2014-11-29 20:02:57.000000000 +01:00
type: post
published: true
status: publish
categories:
- General
tags:
- keyboard
- Swift
- UITextView
meta:
  _edit_last: '1'
  _flattr_post_hidden: '0'
  _flattr_post_customurl: ''
  _yoast_wpseo_linkdex: '76'
  _yoast_wpseo_focuskw: keyboard
  _yoast_wpseo_metadesc: How to adjust the content of the screen when the iOS keyboard
    appears.
  _jetpack_related_posts_cache: a:1:{s:32:"8f6677c9d6b0f903e98ad32ec61f8deb";a:2:{s:7:"expires";i:1437194510;s:7:"payload";a:3:{i:0;a:1:{s:2:"id";i:589;}i:1;a:1:{s:2:"id";i:464;}i:2;a:1:{s:2:"id";i:215;}}}}
author:
  login: dom
  email: dominik.hauser@dasdom.de
  display_name: dom
  first_name: ''
  last_name: ''
---
<p>Let's say you have an app with a text view which should just take all the space possible without being beneath the keyboard.</p>
<p>Fist add constraints which pin the text view to all four edges of the super view.</p>
<p><a href="http://swift.eltanin.uberspace.de/wp-content/uploads/2014/11/Screen-Shot-2014-11-29-at-18.02.14.png"><img src="{{ site.baseurl }}/assets/Screen-Shot-2014-11-29-at-18.02.14.png" alt="Screen Shot 2014-11-29 at 18.02.14" width="294" height="422" class="aligncenter size-full wp-image-369" /></a></p>
<p> Ctr-drag from the bottom constraint to the view controller to make an outlet for the constraint. This will allow you to change the constant of the bottom constraint.</p>
<p><a href="http://swift.eltanin.uberspace.de/wp-content/uploads/2014/11/Monosnap-2014-11-29-18-10-29.png"><img src="{{ site.baseurl }}/assets/Monosnap-2014-11-29-18-10-29.png" alt="Monosnap 2014-11-29 18-10-29" width="1149" height="741" class="aligncenter size-full wp-image-372" /></a></p>
<p>Add the view controller as an observer for the notification  <span class="lang:swift decode:true  crayon-inline ">UIKeyboardWillShowNotification</span> in <span class="lang:swift decode:true  crayon-inline ">viewDidLoad()</span> and set the constant of the bottom constraint to 0.0 to make the text view take all the available space at the beginning:</p>
<pre class="lang:swift decode:true ">override func viewDidLoad() {
        super.viewDidLoad()
        
        NSNotificationCenter.defaultCenter().addObserver(self, selector: "keyboardWillShow:", name: UIKeyboardWillShowNotification, object: nil)

        textViewBottomConstraint.constant = 0.0
    }</pre>
<p>Add the method which gets called when the notification is triggered by the system:</p>
<pre class="lang:swift decode:true ">func keyboardWillShow(sender: NSNotification) {
        if let userInfo = sender.userInfo {
            if let keyboardHeight = userInfo[UIKeyboardFrameEndUserInfoKey]?.CGRectValue().size.height {
                textViewBottomConstraint.constant = keyboardHeight
                UIView.animateWithDuration(0.25, animations: { () -&gt; Void in
                    self.view.layoutIfNeeded()
                })
            }
        }
    }</pre>
<p>The code does</p>
<ul>
<li> get the userInfo dictionary from the notification (line 2) </li>
<li> get the height of the keyboard (line 3) </li>
<li> set the constant of the bottom constraint (line 4) </li>
<li> animate to the value of the constraint (line 5-7) </li>
</ul>
<p>Done!</p>
